(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,a){e.exports=a(42)},21:function(e,t,a){},22:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),i=(a(21),a(1)),s=a(2),l=a(4),p=a(3),u=a(5),h=(a(22),a(12)),d=a.n(h),m=a(15),f=a(8),g=a.n(f),b=a(6),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).setQuery=function(e){a.setState({query:e})},a.handleAutocompleteSelect=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(f.getLatLng)(n[0]);case 5:o=e.sent,a.props.setApp({coordinates:o}),a.props.setApp({placeData:n[0]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={query:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,{value:this.state.query,onChange:this.setQuery,onSelect:this.handleAutocompleteSelect},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,r=e.loading;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({style:{height:"40px",width:"100%",fontSize:"16px"}},t({placeholder:"Search Places ...",className:"location-search-input"}))),o.a.createElement("div",{className:"autocomplete-dropdown-container"},r&&o.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return o.a.createElement("div",n(e,{className:t,style:a}),o.a.createElement("span",null,e.description))}))))}))}}]),t}(o.a.Component),O=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyBr0KBe6OYC3MKAmWh4nfTPQrCQT6ei-O8"})(v),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={test:!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"test component"),o.a.createElement("p",null,this.props.placeData.formatted_address),o.a.createElement("a",{href:"https://developers.google.com/maps/documentation/javascript/tutorial",target:"_blank"},o.a.createElement("button",null,"display link to create a review")),o.a.createElement("p",null,this.props.placeData.place_id))}}]),t}(o.a.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).url="http://localhost:3000",a.executeTest=function(){console.log("test button")},a.state={test:!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){Object(f.geocodeByPlaceId)(this.props.placeId).then(console.log)}},{key:"render",value:function(){return o.a.createElement("a",{href:"".concat(this.url,"/new/").concat(this.props.placeId)},o.a.createElement("button",null,"Add a Review"))}}]),t}(o.a.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={test:!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="";return this.props.placeData&&!this.props.placeData.photos&&(e="https://1m19tt3pztls474q6z46fnk9-wpengine.netdna-ssl.com/wp-content/themes/unbound/images/No-Image-Found-400x264.png"),this.props.placeData&&this.props.placeData.photos&&(e=this.props.placeData.photos[0].getUrl()),this.props.placeData?o.a.createElement("div",null,o.a.createElement("img",{height:"200px",src:e}),o.a.createElement("h1",null,this.props.placeData.name),o.a.createElement("p",null,o.a.createElement("strong",null,"google place_id: "),this.props.placeData.reference||"unknown"),o.a.createElement(j,{placeId:this.props.placeData.reference})):o.a.createElement("div",null,o.a.createElement("h3",null,"Loading..."))}}]),t}(o.a.Component),E=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).componentDidMount=function(){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){console.log("found user location");var a=t.coords,n=a.latitude,o=a.longitude;e.setState({userLocation:{lat:n,lng:o},showMarker:!0})}))},e.onMarkerClick=function(t,a,n){e.setState({selectedMarker:a,showWindow:!0})},e.onInfoWindowClose=function(){e.setState({showWindow:!1})},e.showPOI=function(t,a){e.setState({poiLocation:{lat:a.latLng.lat(),lng:a.latLng.lng()},placeData:null});var n=new e.props.google.maps.places.PlacesService(t);console.log("service is:",n),n.getDetails({placeId:a.placeId,fields:["name","website","formatted_phone_number","formatted_address","photo","reference","reviews"]},(function(t,a){console.log(t),e.setState({placeData:t})}))},e.handleClick=function(t,a,n){n.placeId&&e.showPOI(a,n)},e.state={placeData:null,poiLocation:null,selectedMarker:null,showPoiWindow:!0,showMarker:!1,showWindow:!1,userLocation:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(b.Map,{google:this.props.google,center:this.state.userLocation,initialCenter:this.props.initialCenter,zoom:14,clickableIcons:!0,onClick:this.handleClick},o.a.createElement(b.InfoWindow,{position:this.state.poiLocation,visible:!0},o.a.createElement(k,{placeData:this.state.placeData})),o.a.createElement(b.Marker,{onClick:this.onMarkerClick,position:this.state.userLocation,name:"Current location"}),o.a.createElement(b.InfoWindow,{marker:this.state.selectedMarker,position:this.props.coordinates,visible:this.state.showWindow,onClose:this.onInfoWindowClose},o.a.createElement(w,{placeData:this.props.placeData})))}}]),t}(o.a.Component),C=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyBr0KBe6OYC3MKAmWh4nfTPQrCQT6ei-O8"})(E),D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).state={coordinates:{lat:null,lng:null},placeData:"",userLocation:{lat:42.3601,lng:-71.0589}},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(O,{setApp:this.setState.bind(this)}),o.a.createElement(C,{initialCenter:this.state.userLocation,coordinates:this.state.coordinates,placeData:this.state.placeData}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.891b5e72.chunk.js.map